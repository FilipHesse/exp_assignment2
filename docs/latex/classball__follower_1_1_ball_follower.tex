\hypertarget{classball__follower_1_1_ball_follower}{}\doxysection{ball\+\_\+follower.\+Ball\+Follower Class Reference}
\label{classball__follower_1_1_ball_follower}\index{ball\_follower.BallFollower@{ball\_follower.BallFollower}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classball__follower_1_1_ball_follower_aa7fa0e2893e6cbbe013da04b629eb105}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\item 
def \mbox{\hyperlink{classball__follower_1_1_ball_follower_a08f152e4d84669eb1090c647fc3fd41c}{callback\+\_\+ball\+\_\+center\+\_\+radius}} (self, msg)
\item 
def \mbox{\hyperlink{classball__follower_1_1_ball_follower_ac62bd24663849694eb0d4169aad0f413}{callback\+\_\+follow\+\_\+ball}} (self, goal)
\item 
def \mbox{\hyperlink{classball__follower_1_1_ball_follower_adbf3cdf49d7df6c83bb2f7ca24e87618}{callback\+\_\+look\+\_\+left\+\_\+right\+\_\+done}} (self, status, result)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_acced9707476ff302f6016020947a8918}\label{classball__follower_1_1_ball_follower_acced9707476ff302f6016020947a8918}} 
{\bfseries look\+\_\+left\+\_\+right\+\_\+active}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_aead44a7262753ca944d349adcf5c94b9}\label{classball__follower_1_1_ball_follower_aead44a7262753ca944d349adcf5c94b9}} 
{\bfseries look\+\_\+left\+\_\+right\+\_\+triggered}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_a96b0dcc8c61c8ce68c491659fd6ecaf0}\label{classball__follower_1_1_ball_follower_a96b0dcc8c61c8ce68c491659fd6ecaf0}} 
{\bfseries ball\+\_\+visible}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_a1f76b9e6b1f3b8579eb66cc39ab19187}\label{classball__follower_1_1_ball_follower_a1f76b9e6b1f3b8579eb66cc39ab19187}} 
{\bfseries ball\+\_\+center\+\_\+x}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_a65a424bc74f3eccefb8f46eca0c54c26}\label{classball__follower_1_1_ball_follower_a65a424bc74f3eccefb8f46eca0c54c26}} 
{\bfseries ball\+\_\+center\+\_\+y}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_a9408f6eb98471c2af6fe316edead5b30}\label{classball__follower_1_1_ball_follower_a9408f6eb98471c2af6fe316edead5b30}} 
{\bfseries ball\+\_\+radius}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_ac73ac0de699a90417d4f451b87c67924}\label{classball__follower_1_1_ball_follower_ac73ac0de699a90417d4f451b87c67924}} 
{\bfseries pub\+\_\+cmd\+\_\+vel}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_a802217c73eccb79e0c490b2da163ce27}\label{classball__follower_1_1_ball_follower_a802217c73eccb79e0c490b2da163ce27}} 
{\bfseries sub\+\_\+ball}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_ae4d22151db9ee458abac1165cf5a2be0}\label{classball__follower_1_1_ball_follower_ae4d22151db9ee458abac1165cf5a2be0}} 
{\bfseries server}
\item 
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_a35a7d3f01759f1efdfd8493ce9afcd8b}\label{classball__follower_1_1_ball_follower_a35a7d3f01759f1efdfd8493ce9afcd8b}} 
{\bfseries client}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}BallFollower class makes the robot follow the ball

...by publishing appropriate velocity commands. Image based visual servoing
is implemented: the node knows from a subscribed topic
(camera1/ball_center_radius) the position and the size of the ball in the
image frame. From this information the node computes an angular and linear
velocity such that the ball will be located in the image center with a
specified size (-> distance)

This node contains 4 ROS communication interfaces:
    pub_cmd_vel: Publisher to topic "cmd_vel"
    sub_ball: Subscriber to topic "camera1/ball_center_radius"
    server: Action server "follow_ball" to activate ball following
        (can be cancelled)
    client: Action client to call "/robot/look_left_right" from the 
        camera controller
\end{DoxyVerb}
 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_aa7fa0e2893e6cbbe013da04b629eb105}\label{classball__follower_1_1_ball_follower_aa7fa0e2893e6cbbe013da04b629eb105}} 
\index{ball\_follower.BallFollower@{ball\_follower.BallFollower}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!ball\_follower.BallFollower@{ball\_follower.BallFollower}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def ball\+\_\+follower.\+Ball\+Follower.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Init members for computation
\end{DoxyVerb}
 Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classball__follower_1_1_ball_follower_aa7fa0e2893e6cbbe013da04b629eb105_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_a08f152e4d84669eb1090c647fc3fd41c}\label{classball__follower_1_1_ball_follower_a08f152e4d84669eb1090c647fc3fd41c}} 
\index{ball\_follower.BallFollower@{ball\_follower.BallFollower}!callback\_ball\_center\_radius@{callback\_ball\_center\_radius}}
\index{callback\_ball\_center\_radius@{callback\_ball\_center\_radius}!ball\_follower.BallFollower@{ball\_follower.BallFollower}}
\doxysubsubsection{\texorpdfstring{callback\_ball\_center\_radius()}{callback\_ball\_center\_radius()}}
{\footnotesize\ttfamily def ball\+\_\+follower.\+Ball\+Follower.\+callback\+\_\+ball\+\_\+center\+\_\+radius (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{msg }\end{DoxyParamCaption})}

\begin{DoxyVerb}callback to update ball position and radius
\end{DoxyVerb}
 Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classball__follower_1_1_ball_follower_a08f152e4d84669eb1090c647fc3fd41c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_ac62bd24663849694eb0d4169aad0f413}\label{classball__follower_1_1_ball_follower_ac62bd24663849694eb0d4169aad0f413}} 
\index{ball\_follower.BallFollower@{ball\_follower.BallFollower}!callback\_follow\_ball@{callback\_follow\_ball}}
\index{callback\_follow\_ball@{callback\_follow\_ball}!ball\_follower.BallFollower@{ball\_follower.BallFollower}}
\doxysubsubsection{\texorpdfstring{callback\_follow\_ball()}{callback\_follow\_ball()}}
{\footnotesize\ttfamily def ball\+\_\+follower.\+Ball\+Follower.\+callback\+\_\+follow\+\_\+ball (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{goal }\end{DoxyParamCaption})}

\begin{DoxyVerb}Action callback, when follow_ball is activated

This function runs for a long time, as long as the action
is active. 

It computes the angular and linear velocities to make the
ball appear in the image center.
When the ball is close enough, it once calls the action
look_left_right to make the robot look to the left
and then to the right. 

If action gets cancelled (is_preempt_requested), then the 
robot stops and the action look_left_right also gets 
cancelled. Finally the state of the action is set to
preempted

Args:
    goal (EmptyGoal): unused but required
\end{DoxyVerb}
 Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classball__follower_1_1_ball_follower_ac62bd24663849694eb0d4169aad0f413_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classball__follower_1_1_ball_follower_ac62bd24663849694eb0d4169aad0f413_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classball__follower_1_1_ball_follower_adbf3cdf49d7df6c83bb2f7ca24e87618}\label{classball__follower_1_1_ball_follower_adbf3cdf49d7df6c83bb2f7ca24e87618}} 
\index{ball\_follower.BallFollower@{ball\_follower.BallFollower}!callback\_look\_left\_right\_done@{callback\_look\_left\_right\_done}}
\index{callback\_look\_left\_right\_done@{callback\_look\_left\_right\_done}!ball\_follower.BallFollower@{ball\_follower.BallFollower}}
\doxysubsubsection{\texorpdfstring{callback\_look\_left\_right\_done()}{callback\_look\_left\_right\_done()}}
{\footnotesize\ttfamily def ball\+\_\+follower.\+Ball\+Follower.\+callback\+\_\+look\+\_\+left\+\_\+right\+\_\+done (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{status,  }\item[{}]{result }\end{DoxyParamCaption})}

\begin{DoxyVerb}Is called, when the action look_left_right is done

resets flag

Args:
    status (...): Default callback parameters
    result (...): Default callback parameters
\end{DoxyVerb}
 Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classball__follower_1_1_ball_follower_adbf3cdf49d7df6c83bb2f7ca24e87618_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
catkin\+\_\+ws/src/exp\+\_\+assignment2/scripts/ball\+\_\+follower.\+py\end{DoxyCompactItemize}
